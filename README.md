# Data Orchestrator

–ü—Ä–æ—Å—Ç–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ –ø—Ä–∏—ë–º–Ω–∏–∫–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —á–∞–Ω–∫–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏: CSV, JSON, XML (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ –≤–µ–±).
- –ü—Ä–∏—ë–º–Ω–∏–∫–∏: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä (–ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏), –∞ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã CSV/JSON/XML.
- –ü–µ—Ä–µ–Ω–æ—Å —á–∞–Ω–∫–∞–º–∏: —É–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –Ω–∞ —à–∞–≥).
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- üìÅ **Drag & Drop** –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚ö° **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- üìä **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä** –¥–∞–Ω–Ω—ã—Ö (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω 10 —Å—Ç—Ä–æ–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- üîÑ **–í–∞–ª–∏–¥–∞—Ü–∏—è** –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üìù **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π** –¥–ª—è CSV —Ñ–∞–π–ª–æ–≤ (—Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- üéØ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø—Ä–∏—ë–º–Ω–∏–∫–∞
- üîß **–£—Å–ª–æ–≤–Ω—ã–µ –ø–æ–ª—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã
- REST API –Ω–∞ FastAPI.
- Docker –∏ docker-compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞.
- –¢–µ—Å—Ç—ã –Ω–∞ pytest.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- Backend (FastAPI): `backend/app`
  - –ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏: `app/services/base.py` (`DataSource`, `DataSink`), –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞–Ω–∫–æ–≤
  - –ò—Å—Ç–æ—á–Ω–∏–∫–∏: `CSVSource`, `JSONSource`, `XMLSource`
  - –ü—Ä–∏—ë–º–Ω–∏–∫–∏: `CSVFileSink`, `JSONFileSink`, `XMLFileSink`, `PreviewSink`
  - API: `POST /upload` (–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä), `POST /transfer` (–ø–µ—Ä–µ–Ω–æ—Å —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–æ–≤)
- Frontend: React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å TypeScript –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI
- Docker: `backend/Dockerfile`, `frontend/Dockerfile`, `docker-compose.yml`
- –¢–µ—Å—Ç—ã: `backend/tests`

## –ó–∞–ø—É—Å–∫
```bash
cd /Users/marina/data
docker compose up -d --build
```

- –§—Ä–æ–Ω—Ç–µ–Ω–¥: http://localhost:3000
- –ë—ç–∫–µ–Ω–¥: http://localhost:8000/health

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫** - –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø (CSV/JSON/XML) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏—ë–º–Ω–∏–∫** - –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø (–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä/CSV/JSON/XML) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É** - —É–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
4. **–ù–∞–∂–º–∏—Ç–µ ¬´–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å¬ª** –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫) –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
- üéØ **–ú–æ–¥—É–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏** - –∫–∞–∂–¥–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ —Å–≤–æ–µ–π –∫–∞—Ä—Ç–æ—á–∫–µ
- üîß **–£–º–Ω—ã–µ –ø–æ–ª—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CSV –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è CSV —Ñ–∞–π–ª–æ–≤
- üìÅ **–£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Ñ–∞–π–ª –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ë–î** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

### API
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä CSV (—Å–æ–≤–º–µ—Å—Ç–∏–º –∏ —Å JSON/XML ‚Äî –±—É–¥–µ—Ç –ø–æ–ø—ã—Ç–∫–∞ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å):
  - `POST /upload` form-data: `file` (—Ñ–∞–π–ª), `delimiter` (str, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ";"). –û—Ç–≤–µ—Ç: `{ headers, rows }`.
- –ü–µ—Ä–µ–Ω–æ—Å —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–æ–≤:
  - `POST /transfer` form-data: `source_type` (csv|json|xml), `sink_type` (preview|csv|json|xml), `chunk_size` (int), `delimiter` (str), `file` (—Ñ–∞–π–ª)
  - –û—Ç–≤–µ—Ç: `{ result, out_path, headers }`

## –¢–µ—Å—Ç—ã
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
cd /Users/marina/data
docker compose exec backend pip install -r /app/requirements.txt
docker compose exec backend pytest -q
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ JSON: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –º–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ `{"items": [...]}`; –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –º–∞—Å—Å–∏–≤–æ–≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±—É–¥—É—Ç `col1..colN`.
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ XML: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç—Å—è —Ç–µ–≥ `item` (–∏–ª–∏ –±–µ—Ä—É—Ç—Å—è –ø—Ä—è–º—ã–µ –¥–µ—Ç–∏ –∫–æ—Ä–Ω—è), –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∏–∑ –∏–º—ë–Ω –¥–æ—á–µ—Ä–Ω–∏—Ö —Ç–µ–≥–æ–≤.
- –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏—ë–º–Ω–∏–∫–∏ –ø–∏—à—É—Ç –≤ `/tmp` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±—ç–∫–µ–Ω–¥–∞.


